{"version":3,"sources":["../src/DistributionPoint.js"],"names":["DistributionPoint","constructor","parameters","distributionPoint","defaultValues","reasons","cRLIssuer","fromSchema","schema","memberName","asn1js","BitString","Error","names","Sequence","name","blockName","value","Constructed","optional","idBlock","tagClass","tagNumber","Choice","Repeated","distributionPointNames","GeneralName","RelativeDistinguishedNames","valueBlock","Primitive","cRLIssuerNames","asn1","compareSchema","verified","result","Array","from","element","valueHex","toSchema","outputArray","internalValue","push","toJSON","object"],"mappings":"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","sourcesContent":["import * as asn1js from \"asn1js\";\r\nimport { getParametersValue, clearProps } from \"pvutils\";\r\nimport GeneralName from \"./GeneralName.js\";\r\nimport RelativeDistinguishedNames from \"./RelativeDistinguishedNames.js\";\r\n//**************************************************************************************\r\n/**\r\n * Class from RFC5280\r\n */\r\nexport default class DistributionPoint\r\n{\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Constructor for DistributionPoint class\r\n\t * @param {Object} [parameters={}]\r\n\t * @param {Object} [parameters.schema] asn1js parsed value to initialize the class from\r\n\t * @property {Object} [distributionPoint]\r\n\t * @property {Object} [reasons]\r\n\t * @property {Object} [cRLIssuer]\r\n\t */\r\n\tconstructor(parameters = {})\r\n\t{\r\n\t\t//region Internal properties of the object\r\n\t\tif(\"distributionPoint\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {Array.<GeneralName>}\r\n\t\t\t * @desc distributionPoint\r\n\t\t\t */\r\n\t\t\tthis.distributionPoint = getParametersValue(parameters, \"distributionPoint\", DistributionPoint.defaultValues(\"distributionPoint\"));\r\n\r\n\t\tif(\"reasons\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {BitString}\r\n\t\t\t * @desc values\r\n\t\t\t */\r\n\t\t\tthis.reasons = getParametersValue(parameters, \"reasons\", DistributionPoint.defaultValues(\"reasons\"));\r\n\r\n\t\tif(\"cRLIssuer\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {Array.<GeneralName>}\r\n\t\t\t * @desc cRLIssuer\r\n\t\t\t */\r\n\t\t\tthis.cRLIssuer = getParametersValue(parameters, \"cRLIssuer\", DistributionPoint.defaultValues(\"cRLIssuer\"));\r\n\t\t//endregion\r\n\r\n\t\t//region If input argument array contains \"schema\" for this object\r\n\t\tif(\"schema\" in parameters)\r\n\t\t\tthis.fromSchema(parameters.schema);\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Return default values for all class members\r\n\t * @param {string} memberName String name for a class member\r\n\t */\r\n\tstatic defaultValues(memberName)\r\n\t{\r\n\t\tswitch(memberName)\r\n\t\t{\r\n\t\t\tcase \"distributionPoint\":\r\n\t\t\t\treturn [];\r\n\t\t\tcase \"reasons\":\r\n\t\t\t\treturn new asn1js.BitString();\r\n\t\t\tcase \"cRLIssuer\":\r\n\t\t\t\treturn [];\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Invalid member name for DistributionPoint class: ${memberName}`);\r\n\t\t}\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Return value of pre-defined ASN.1 schema for current class\r\n\t *\r\n\t * ASN.1 schema:\r\n\t * ```asn1\r\n\t * DistributionPoint ::= SEQUENCE {\r\n\t *    distributionPoint       [0]     DistributionPointName OPTIONAL,\r\n\t *    reasons                 [1]     ReasonFlags OPTIONAL,\r\n\t *    cRLIssuer               [2]     GeneralNames OPTIONAL }\r\n\t *\r\n\t * DistributionPointName ::= CHOICE {\r\n\t *    fullName                [0]     GeneralNames,\r\n\t *    nameRelativeToCRLIssuer [1]     RelativeDistinguishedName }\r\n\t *\r\n\t * ReasonFlags ::= BIT STRING {\r\n\t *    unused                  (0),\r\n\t *    keyCompromise           (1),\r\n\t *    cACompromise            (2),\r\n\t *    affiliationChanged      (3),\r\n\t *    superseded              (4),\r\n\t *    cessationOfOperation    (5),\r\n\t *    certificateHold         (6),\r\n\t *    privilegeWithdrawn      (7),\r\n\t *    aACompromise            (8) }\r\n\t * ```\r\n\t *\r\n\t * @param {Object} parameters Input parameters for the schema\r\n\t * @returns {Object} asn1js schema object\r\n\t */\r\n\tstatic schema(parameters = {})\r\n\t{\r\n\t\t/**\r\n\t\t * @type {Object}\r\n\t\t * @property {string} [blockName]\r\n\t\t * @property {string} [distributionPoint]\r\n\t\t * @property {string} [distributionPointNames]\r\n\t\t * @property {string} [reasons]\r\n\t\t * @property {string} [cRLIssuer]\r\n\t\t * @property {string} [cRLIssuerNames]\r\n\t\t */\r\n\t\tconst names = getParametersValue(parameters, \"names\", {});\r\n\r\n\t\treturn (new asn1js.Sequence({\r\n\t\t\tname: (names.blockName || \"\"),\r\n\t\t\tvalue: [\r\n\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\tnew asn1js.Choice({\r\n\t\t\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\t\t\t\t\tname: (names.distributionPoint || \"\"),\r\n\t\t\t\t\t\t\t\t\toptional: true,\r\n\t\t\t\t\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\t\t\t\t\tnew asn1js.Repeated({\r\n\t\t\t\t\t\t\t\t\t\t\tname: (names.distributionPointNames || \"\"),\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: GeneralName.schema()\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\t\t\t\t\tname: (names.distributionPoint || \"\"),\r\n\t\t\t\t\t\t\t\t\toptional: true,\r\n\t\t\t\t\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tvalue: RelativeDistinguishedNames.schema().valueBlock.value\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t}),\r\n\t\t\t\tnew asn1js.Primitive({\r\n\t\t\t\t\tname: (names.reasons || \"\"),\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}), // IMPLICIT bitstring value\r\n\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\tname: (names.cRLIssuer || \"\"),\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 2 // [2]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\tnew asn1js.Repeated({\r\n\t\t\t\t\t\t\tname: (names.cRLIssuerNames || \"\"),\r\n\t\t\t\t\t\t\tvalue: GeneralName.schema()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t}) // IMPLICIT bitstring value\r\n\t\t\t]\r\n\t\t}));\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert parsed asn1js object into current class\r\n\t * @param {!Object} schema\r\n\t */\r\n\tfromSchema(schema)\r\n\t{\r\n\t\t//region Clear input data first\r\n\t\tclearProps(schema, [\r\n\t\t\t\"distributionPoint\",\r\n\t\t\t\"distributionPointNames\",\r\n\t\t\t\"reasons\",\r\n\t\t\t\"cRLIssuer\",\r\n\t\t\t\"cRLIssuerNames\"\r\n\t\t]);\r\n\t\t//endregion\r\n\t\t\r\n\t\t//region Check the schema is valid\r\n\t\tconst asn1 = asn1js.compareSchema(schema,\r\n\t\t\tschema,\r\n\t\t\tDistributionPoint.schema({\r\n\t\t\t\tnames: {\r\n\t\t\t\t\tdistributionPoint: \"distributionPoint\",\r\n\t\t\t\t\tdistributionPointNames: \"distributionPointNames\",\r\n\t\t\t\t\treasons: \"reasons\",\r\n\t\t\t\t\tcRLIssuer: \"cRLIssuer\",\r\n\t\t\t\t\tcRLIssuerNames: \"cRLIssuerNames\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tif(asn1.verified === false)\r\n\t\t\tthrow new Error(\"Object's schema was not verified against input data for DistributionPoint\");\r\n\t\t//endregion\r\n\r\n\t\t//region Get internal properties from parsed schema\r\n\t\tif(\"distributionPoint\" in asn1.result)\r\n\t\t{\r\n\t\t\tif(asn1.result.distributionPoint.idBlock.tagNumber === 0) // GENERAL_NAMES variant\r\n\t\t\t\tthis.distributionPoint = Array.from(asn1.result.distributionPointNames, element => new GeneralName({ schema: element }));\r\n\r\n\t\t\tif(asn1.result.distributionPoint.idBlock.tagNumber === 1) // RDN variant\r\n\t\t\t{\r\n\t\t\t\tthis.distributionPoint = new RelativeDistinguishedNames({\r\n\t\t\t\t\tschema: new asn1js.Sequence({\r\n\t\t\t\t\t\tvalue: asn1.result.distributionPoint.valueBlock.value\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(\"reasons\" in asn1.result)\r\n\t\t\tthis.reasons = new asn1js.BitString({ valueHex: asn1.result.reasons.valueBlock.valueHex });\r\n\r\n\t\tif(\"cRLIssuer\" in asn1.result)\r\n\t\t\tthis.cRLIssuer = Array.from(asn1.result.cRLIssuerNames, element => new GeneralName({ schema: element }));\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert current object to asn1js object and set correct values\r\n\t * @returns {Object} asn1js object\r\n\t */\r\n\ttoSchema()\r\n\t{\r\n\t\t//region Create array for output sequence\r\n\t\tconst outputArray = [];\r\n\t\t\r\n\t\tif(\"distributionPoint\" in this)\r\n\t\t{\r\n\t\t\tlet internalValue;\r\n\t\t\t\r\n\t\t\tif(this.distributionPoint instanceof Array)\r\n\t\t\t{\r\n\t\t\t\tinternalValue = new asn1js.Constructed({\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: Array.from(this.distributionPoint, element => element.toSchema())\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tinternalValue = new asn1js.Constructed({\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: [this.distributionPoint.toSchema()]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toutputArray.push(new asn1js.Constructed({\r\n\t\t\t\tidBlock: {\r\n\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t},\r\n\t\t\t\tvalue: [internalValue]\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\tif(\"reasons\" in this)\r\n\t\t{\r\n\t\t\toutputArray.push(new asn1js.Primitive({\r\n\t\t\t\tidBlock: {\r\n\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t},\r\n\t\t\t\tvalueHex: this.reasons.valueBlock.valueHex\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\tif(\"cRLIssuer\" in this)\r\n\t\t{\r\n\t\t\toutputArray.push(new asn1js.Constructed({\r\n\t\t\t\tidBlock: {\r\n\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\ttagNumber: 2 // [2]\r\n\t\t\t\t},\r\n\t\t\t\tvalue: Array.from(this.cRLIssuer, element => element.toSchema())\r\n\t\t\t}));\r\n\t\t}\r\n\t\t//endregion\r\n\t\t\r\n\t\t//region Construct and return new ASN.1 schema for this object\r\n\t\treturn (new asn1js.Sequence({\r\n\t\t\tvalue: outputArray\r\n\t\t}));\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convertion for the class to JSON object\r\n\t * @returns {Object}\r\n\t */\r\n\ttoJSON()\r\n\t{\r\n\t\tconst object = {};\r\n\r\n\t\tif(\"distributionPoint\" in this)\r\n\t\t{\r\n\t\t\tif(this.distributionPoint instanceof Array)\r\n\t\t\t\tobject.distributionPoint = Array.from(this.distributionPoint, element => element.toJSON());\r\n\t\t\telse\r\n\t\t\t\tobject.distributionPoint = this.distributionPoint.toJSON();\r\n\t\t}\r\n\r\n\t\tif(\"reasons\" in this)\r\n\t\t\tobject.reasons = this.reasons.toJSON();\r\n\r\n\t\tif(\"cRLIssuer\" in this)\r\n\t\t\tobject.cRLIssuer = Array.from(this.cRLIssuer, element => element.toJSON());\r\n\r\n\t\treturn object;\r\n\t}\r\n\t//**********************************************************************************\r\n}\r\n//**************************************************************************************\r\n"],"file":"DistributionPoint.js"}