{"version":3,"sources":["../src/DistributionPoint.js"],"names":["DistributionPoint","parameters","distributionPoint","defaultValues","reasons","cRLIssuer","fromSchema","schema","asn1","asn1js","compareSchema","names","distributionPointNames","cRLIssuerNames","verified","Error","result","idBlock","tagNumber","Array","from","element","GeneralName","RelativeDistinguishedNames","Sequence","value","valueBlock","BitString","valueHex","outputArray","internalValue","Constructed","tagClass","toSchema","push","Primitive","object","toJSON","memberName","name","blockName","optional","Choice","Repeated"],"mappings":"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","sourcesContent":["import * as asn1js from \"asn1js\";\r\nimport { getParametersValue, clearProps } from \"pvutils\";\r\nimport GeneralName from \"./GeneralName.js\";\r\nimport RelativeDistinguishedNames from \"./RelativeDistinguishedNames.js\";\r\n//**************************************************************************************\r\n/**\r\n * Class from RFC5280\r\n */\r\nexport default class DistributionPoint\r\n{\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Constructor for DistributionPoint class\r\n\t * @param {Object} [parameters={}]\r\n\t * @param {Object} [parameters.schema] asn1js parsed value to initialize the class from\r\n\t * @property {Object} [distributionPoint]\r\n\t * @property {Object} [reasons]\r\n\t * @property {Object} [cRLIssuer]\r\n\t */\r\n\tconstructor(parameters = {})\r\n\t{\r\n\t\t//region Internal properties of the object\r\n\t\tif(\"distributionPoint\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {Array.<GeneralName>}\r\n\t\t\t * @desc distributionPoint\r\n\t\t\t */\r\n\t\t\tthis.distributionPoint = getParametersValue(parameters, \"distributionPoint\", DistributionPoint.defaultValues(\"distributionPoint\"));\r\n\r\n\t\tif(\"reasons\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {BitString}\r\n\t\t\t * @desc values\r\n\t\t\t */\r\n\t\t\tthis.reasons = getParametersValue(parameters, \"reasons\", DistributionPoint.defaultValues(\"reasons\"));\r\n\r\n\t\tif(\"cRLIssuer\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {Array.<GeneralName>}\r\n\t\t\t * @desc cRLIssuer\r\n\t\t\t */\r\n\t\t\tthis.cRLIssuer = getParametersValue(parameters, \"cRLIssuer\", DistributionPoint.defaultValues(\"cRLIssuer\"));\r\n\t\t//endregion\r\n\r\n\t\t//region If input argument array contains \"schema\" for this object\r\n\t\tif(\"schema\" in parameters)\r\n\t\t\tthis.fromSchema(parameters.schema);\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Return default values for all class members\r\n\t * @param {string} memberName String name for a class member\r\n\t */\r\n\tstatic defaultValues(memberName)\r\n\t{\r\n\t\tswitch(memberName)\r\n\t\t{\r\n\t\t\tcase \"distributionPoint\":\r\n\t\t\t\treturn [];\r\n\t\t\tcase \"reasons\":\r\n\t\t\t\treturn new asn1js.BitString();\r\n\t\t\tcase \"cRLIssuer\":\r\n\t\t\t\treturn [];\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Invalid member name for DistributionPoint class: ${memberName}`);\r\n\t\t}\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Return value of pre-defined ASN.1 schema for current class\r\n\t *\r\n\t * ASN.1 schema:\r\n\t * ```asn1\r\n\t * DistributionPoint ::= SEQUENCE {\r\n\t *    distributionPoint       [0]     DistributionPointName OPTIONAL,\r\n\t *    reasons                 [1]     ReasonFlags OPTIONAL,\r\n\t *    cRLIssuer               [2]     GeneralNames OPTIONAL }\r\n\t *\r\n\t * DistributionPointName ::= CHOICE {\r\n\t *    fullName                [0]     GeneralNames,\r\n\t *    nameRelativeToCRLIssuer [1]     RelativeDistinguishedName }\r\n\t *\r\n\t * ReasonFlags ::= BIT STRING {\r\n\t *    unused                  (0),\r\n\t *    keyCompromise           (1),\r\n\t *    cACompromise            (2),\r\n\t *    affiliationChanged      (3),\r\n\t *    superseded              (4),\r\n\t *    cessationOfOperation    (5),\r\n\t *    certificateHold         (6),\r\n\t *    privilegeWithdrawn      (7),\r\n\t *    aACompromise            (8) }\r\n\t * ```\r\n\t *\r\n\t * @param {Object} parameters Input parameters for the schema\r\n\t * @returns {Object} asn1js schema object\r\n\t */\r\n\tstatic schema(parameters = {})\r\n\t{\r\n\t\t/**\r\n\t\t * @type {Object}\r\n\t\t * @property {string} [blockName]\r\n\t\t * @property {string} [distributionPoint]\r\n\t\t * @property {string} [distributionPointNames]\r\n\t\t * @property {string} [reasons]\r\n\t\t * @property {string} [cRLIssuer]\r\n\t\t * @property {string} [cRLIssuerNames]\r\n\t\t */\r\n\t\tconst names = getParametersValue(parameters, \"names\", {});\r\n\r\n\t\treturn (new asn1js.Sequence({\r\n\t\t\tname: (names.blockName || \"\"),\r\n\t\t\tvalue: [\r\n\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\tnew asn1js.Choice({\r\n\t\t\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\t\t\t\t\tname: (names.distributionPoint || \"\"),\r\n\t\t\t\t\t\t\t\t\toptional: true,\r\n\t\t\t\t\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\t\t\t\t\tnew asn1js.Repeated({\r\n\t\t\t\t\t\t\t\t\t\t\tname: (names.distributionPointNames || \"\"),\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: GeneralName.schema()\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\t\t\t\t\tname: (names.distributionPoint || \"\"),\r\n\t\t\t\t\t\t\t\t\toptional: true,\r\n\t\t\t\t\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tvalue: RelativeDistinguishedNames.schema().valueBlock.value\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t}),\r\n\t\t\t\tnew asn1js.Primitive({\r\n\t\t\t\t\tname: (names.reasons || \"\"),\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t\t}\r\n\t\t\t\t}), // IMPLICIT bitstring value\r\n\t\t\t\tnew asn1js.Constructed({\r\n\t\t\t\t\tname: (names.cRLIssuer || \"\"),\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 2 // [2]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\tnew asn1js.Repeated({\r\n\t\t\t\t\t\t\tname: (names.cRLIssuerNames || \"\"),\r\n\t\t\t\t\t\t\tvalue: GeneralName.schema()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t}) // IMPLICIT bitstring value\r\n\t\t\t]\r\n\t\t}));\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert parsed asn1js object into current class\r\n\t * @param {!Object} schema\r\n\t */\r\n\tfromSchema(schema)\r\n\t{\r\n\t\t//region Clear input data first\r\n\t\tclearProps(schema, [\r\n\t\t\t\"distributionPoint\",\r\n\t\t\t\"distributionPointNames\",\r\n\t\t\t\"reasons\",\r\n\t\t\t\"cRLIssuer\",\r\n\t\t\t\"cRLIssuerNames\"\r\n\t\t]);\r\n\t\t//endregion\r\n\t\t\r\n\t\t//region Check the schema is valid\r\n\t\tconst asn1 = asn1js.compareSchema(schema,\r\n\t\t\tschema,\r\n\t\t\tDistributionPoint.schema({\r\n\t\t\t\tnames: {\r\n\t\t\t\t\tdistributionPoint: \"distributionPoint\",\r\n\t\t\t\t\tdistributionPointNames: \"distributionPointNames\",\r\n\t\t\t\t\treasons: \"reasons\",\r\n\t\t\t\t\tcRLIssuer: \"cRLIssuer\",\r\n\t\t\t\t\tcRLIssuerNames: \"cRLIssuerNames\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tif(asn1.verified === false)\r\n\t\t\tthrow new Error(\"Object's schema was not verified against input data for DistributionPoint\");\r\n\t\t//endregion\r\n\r\n\t\t//region Get internal properties from parsed schema\r\n\t\tif(\"distributionPoint\" in asn1.result)\r\n\t\t{\r\n\t\t\tif(asn1.result.distributionPoint.idBlock.tagNumber === 0) // GENERAL_NAMES variant\r\n\t\t\t\tthis.distributionPoint = Array.from(asn1.result.distributionPointNames, element => new GeneralName({ schema: element }));\r\n\r\n\t\t\tif(asn1.result.distributionPoint.idBlock.tagNumber === 1) // RDN variant\r\n\t\t\t{\r\n\t\t\t\tthis.distributionPoint = new RelativeDistinguishedNames({\r\n\t\t\t\t\tschema: new asn1js.Sequence({\r\n\t\t\t\t\t\tvalue: asn1.result.distributionPoint.valueBlock.value\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(\"reasons\" in asn1.result)\r\n\t\t\tthis.reasons = new asn1js.BitString({ valueHex: asn1.result.reasons.valueBlock.valueHex });\r\n\r\n\t\tif(\"cRLIssuer\" in asn1.result)\r\n\t\t\tthis.cRLIssuer = Array.from(asn1.result.cRLIssuerNames, element => new GeneralName({ schema: element }));\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert current object to asn1js object and set correct values\r\n\t * @returns {Object} asn1js object\r\n\t */\r\n\ttoSchema()\r\n\t{\r\n\t\t//region Create array for output sequence\r\n\t\tconst outputArray = [];\r\n\t\t\r\n\t\tif(\"distributionPoint\" in this)\r\n\t\t{\r\n\t\t\tlet internalValue;\r\n\t\t\t\r\n\t\t\tif(this.distributionPoint instanceof Array)\r\n\t\t\t{\r\n\t\t\t\tinternalValue = new asn1js.Constructed({\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: Array.from(this.distributionPoint, element => element.toSchema())\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tinternalValue = new asn1js.Constructed({\r\n\t\t\t\t\tidBlock: {\r\n\t\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tvalue: [this.distributionPoint.toSchema()]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toutputArray.push(new asn1js.Constructed({\r\n\t\t\t\tidBlock: {\r\n\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\ttagNumber: 0 // [0]\r\n\t\t\t\t},\r\n\t\t\t\tvalue: [internalValue]\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\tif(\"reasons\" in this)\r\n\t\t{\r\n\t\t\toutputArray.push(new asn1js.Primitive({\r\n\t\t\t\tidBlock: {\r\n\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\ttagNumber: 1 // [1]\r\n\t\t\t\t},\r\n\t\t\t\tvalueHex: this.reasons.valueBlock.valueHex\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\tif(\"cRLIssuer\" in this)\r\n\t\t{\r\n\t\t\toutputArray.push(new asn1js.Constructed({\r\n\t\t\t\tidBlock: {\r\n\t\t\t\t\ttagClass: 3, // CONTEXT-SPECIFIC\r\n\t\t\t\t\ttagNumber: 2 // [2]\r\n\t\t\t\t},\r\n\t\t\t\tvalue: Array.from(this.cRLIssuer, element => element.toSchema())\r\n\t\t\t}));\r\n\t\t}\r\n\t\t//endregion\r\n\t\t\r\n\t\t//region Construct and return new ASN.1 schema for this object\r\n\t\treturn (new asn1js.Sequence({\r\n\t\t\tvalue: outputArray\r\n\t\t}));\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convertion for the class to JSON object\r\n\t * @returns {Object}\r\n\t */\r\n\ttoJSON()\r\n\t{\r\n\t\tconst object = {};\r\n\r\n\t\tif(\"distributionPoint\" in this)\r\n\t\t{\r\n\t\t\tif(this.distributionPoint instanceof Array)\r\n\t\t\t\tobject.distributionPoint = Array.from(this.distributionPoint, element => element.toJSON());\r\n\t\t\telse\r\n\t\t\t\tobject.distributionPoint = this.distributionPoint.toJSON();\r\n\t\t}\r\n\r\n\t\tif(\"reasons\" in this)\r\n\t\t\tobject.reasons = this.reasons.toJSON();\r\n\r\n\t\tif(\"cRLIssuer\" in this)\r\n\t\t\tobject.cRLIssuer = Array.from(this.cRLIssuer, element => element.toJSON());\r\n\r\n\t\treturn object;\r\n\t}\r\n\t//**********************************************************************************\r\n}\r\n//**************************************************************************************\r\n"],"file":"DistributionPoint.js"}