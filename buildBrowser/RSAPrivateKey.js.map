{"version":3,"sources":["../src/RSAPrivateKey.js"],"names":["RSAPrivateKey","parameters","version","defaultValues","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos","fromSchema","schema","fromJSON","json","asn1","asn1js","compareSchema","names","otherPrimeInfo","blockName","verified","Error","result","valueBlock","valueDec","convertFromDER","Array","from","element","OtherPrimeInfo","outputArray","push","Integer","value","convertToDER","Sequence","toSchema","jwk","n","valueHex","e","d","p","q","dp","dq","qi","oth","toJSON","memberName","name","optional","Repeated","otherPrimeInfosName"],"mappings":"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","sourcesContent":["import * as asn1js from \"asn1js\";\r\nimport { getParametersValue, toBase64, arrayBufferToString, stringToArrayBuffer, fromBase64, clearProps } from \"pvutils\";\r\nimport OtherPrimeInfo from \"./OtherPrimeInfo.js\";\r\n//**************************************************************************************\r\n/**\r\n * Class from RFC3447\r\n */\r\nexport default class RSAPrivateKey\r\n{\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Constructor for RSAPrivateKey class\r\n\t * @param {Object} [parameters={}]\r\n\t * @param {Object} [parameters.schema] asn1js parsed value to initialize the class from\r\n\t */\r\n\tconstructor(parameters = {})\r\n\t{\r\n\t\t//region Internal properties of the object\r\n\t\t/**\r\n\t\t * @type {number}\r\n\t\t * @desc version\r\n\t\t */\r\n\t\tthis.version = getParametersValue(parameters, \"version\", RSAPrivateKey.defaultValues(\"version\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc modulus\r\n\t\t */\r\n\t\tthis.modulus = getParametersValue(parameters, \"modulus\", RSAPrivateKey.defaultValues(\"modulus\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc publicExponent\r\n\t\t */\r\n\t\tthis.publicExponent = getParametersValue(parameters, \"publicExponent\", RSAPrivateKey.defaultValues(\"publicExponent\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc privateExponent\r\n\t\t */\r\n\t\tthis.privateExponent = getParametersValue(parameters, \"privateExponent\", RSAPrivateKey.defaultValues(\"privateExponent\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc prime1\r\n\t\t */\r\n\t\tthis.prime1 = getParametersValue(parameters, \"prime1\", RSAPrivateKey.defaultValues(\"prime1\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc prime2\r\n\t\t */\r\n\t\tthis.prime2 = getParametersValue(parameters, \"prime2\", RSAPrivateKey.defaultValues(\"prime2\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc exponent1\r\n\t\t */\r\n\t\tthis.exponent1 = getParametersValue(parameters, \"exponent1\", RSAPrivateKey.defaultValues(\"exponent1\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc exponent2\r\n\t\t */\r\n\t\tthis.exponent2 = getParametersValue(parameters, \"exponent2\", RSAPrivateKey.defaultValues(\"exponent2\"));\r\n\t\t/**\r\n\t\t * @type {Integer}\r\n\t\t * @desc coefficient\r\n\t\t */\r\n\t\tthis.coefficient = getParametersValue(parameters, \"coefficient\", RSAPrivateKey.defaultValues(\"coefficient\"));\r\n\r\n\t\tif(\"otherPrimeInfos\" in parameters)\r\n\t\t\t/**\r\n\t\t\t * @type {Array.<OtherPrimeInfo>}\r\n\t\t\t * @desc otherPrimeInfos\r\n\t\t\t */\r\n\t\t\tthis.otherPrimeInfos = getParametersValue(parameters, \"otherPrimeInfos\", RSAPrivateKey.defaultValues(\"otherPrimeInfos\"));\r\n\t\t//endregion\r\n\r\n\t\t//region If input argument array contains \"schema\" for this object\r\n\t\tif(\"schema\" in parameters)\r\n\t\t\tthis.fromSchema(parameters.schema);\r\n\t\t//endregion\r\n\t\t//region If input argument array contains \"json\" for this object\r\n\t\tif(\"json\" in parameters)\r\n\t\t\tthis.fromJSON(parameters.json);\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Return default values for all class members\r\n\t * @param {string} memberName String name for a class member\r\n\t */\r\n\tstatic defaultValues(memberName)\r\n\t{\r\n\t\tswitch(memberName)\r\n\t\t{\r\n\t\t\tcase \"version\":\r\n\t\t\t\treturn 0;\r\n\t\t\tcase \"modulus\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"publicExponent\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"privateExponent\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"prime1\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"prime2\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"exponent1\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"exponent2\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"coefficient\":\r\n\t\t\t\treturn new asn1js.Integer();\r\n\t\t\tcase \"otherPrimeInfos\":\r\n\t\t\t\treturn [];\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Invalid member name for RSAPrivateKey class: ${memberName}`);\r\n\t\t}\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Return value of pre-defined ASN.1 schema for current class\r\n\t *\r\n\t * ASN.1 schema:\r\n\t * ```asn1\r\n\t * RSAPrivateKey ::= Sequence {\r\n\t *    version           Version,\r\n\t *    modulus           Integer,  -- n\r\n\t *    publicExponent    Integer,  -- e\r\n\t *    privateExponent   Integer,  -- d\r\n\t *    prime1            Integer,  -- p\r\n\t *    prime2            Integer,  -- q\r\n\t *    exponent1         Integer,  -- d mod (p-1)\r\n\t *    exponent2         Integer,  -- d mod (q-1)\r\n\t *    coefficient       Integer,  -- (inverse of q) mod p\r\n\t *    otherPrimeInfos   OtherPrimeInfos OPTIONAL\r\n\t * }\r\n\t *\r\n\t * OtherPrimeInfos ::= Sequence SIZE(1..MAX) OF OtherPrimeInfo\r\n\t * ```\r\n\t *\r\n\t * @param {Object} parameters Input parameters for the schema\r\n\t * @returns {Object} asn1js schema object\r\n\t */\r\n\tstatic schema(parameters = {})\r\n\t{\r\n\t\t/**\r\n\t\t * @type {Object}\r\n\t\t * @property {string} [blockName]\r\n\t\t * @property {string} [version]\r\n\t\t * @property {string} [modulus]\r\n\t\t * @property {string} [publicExponent]\r\n\t\t * @property {string} [privateExponent]\r\n\t\t * @property {string} [prime1]\r\n\t\t * @property {string} [prime2]\r\n\t\t * @property {string} [exponent1]\r\n\t\t * @property {string} [exponent2]\r\n\t\t * @property {string} [coefficient]\r\n\t\t * @property {string} [otherPrimeInfosName]\r\n\t\t * @property {Object} [otherPrimeInfo]\r\n\t\t */\r\n\t\tconst names = getParametersValue(parameters, \"names\", {});\r\n\r\n\t\treturn (new asn1js.Sequence({\r\n\t\t\tname: (names.blockName || \"\"),\r\n\t\t\tvalue: [\r\n\t\t\t\tnew asn1js.Integer({ name: (names.version || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.modulus || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.publicExponent || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.privateExponent || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.prime1 || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.prime2 || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.exponent1 || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.exponent2 || \"\") }),\r\n\t\t\t\tnew asn1js.Integer({ name: (names.coefficient || \"\") }),\r\n\t\t\t\tnew asn1js.Sequence({\r\n\t\t\t\t\toptional: true,\r\n\t\t\t\t\tvalue: [\r\n\t\t\t\t\t\tnew asn1js.Repeated({\r\n\t\t\t\t\t\t\tname: (names.otherPrimeInfosName || \"\"),\r\n\t\t\t\t\t\t\tvalue: OtherPrimeInfo.schema(names.otherPrimeInfo || {})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t]\r\n\t\t\t\t})\r\n\t\t\t]\r\n\t\t}));\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert parsed asn1js object into current class\r\n\t * @param {!Object} schema\r\n\t */\r\n\tfromSchema(schema)\r\n\t{\r\n\t\t//region Clear input data first\r\n\t\tclearProps(schema, [\r\n\t\t\t\"version\",\r\n\t\t\t\"modulus\",\r\n\t\t\t\"publicExponent\",\r\n\t\t\t\"privateExponent\",\r\n\t\t\t\"prime1\",\r\n\t\t\t\"prime2\",\r\n\t\t\t\"exponent1\",\r\n\t\t\t\"exponent2\",\r\n\t\t\t\"coefficient\",\r\n\t\t\t\"otherPrimeInfos\"\r\n\t\t]);\r\n\t\t//endregion\r\n\t\t\r\n\t\t//region Check the schema is valid\r\n\t\tconst asn1 = asn1js.compareSchema(schema,\r\n\t\t\tschema,\r\n\t\t\tRSAPrivateKey.schema({\r\n\t\t\t\tnames: {\r\n\t\t\t\t\tversion: \"version\",\r\n\t\t\t\t\tmodulus: \"modulus\",\r\n\t\t\t\t\tpublicExponent: \"publicExponent\",\r\n\t\t\t\t\tprivateExponent: \"privateExponent\",\r\n\t\t\t\t\tprime1: \"prime1\",\r\n\t\t\t\t\tprime2: \"prime2\",\r\n\t\t\t\t\texponent1: \"exponent1\",\r\n\t\t\t\t\texponent2: \"exponent2\",\r\n\t\t\t\t\tcoefficient: \"coefficient\",\r\n\t\t\t\t\totherPrimeInfo: {\r\n\t\t\t\t\t\tnames: {\r\n\t\t\t\t\t\t\tblockName: \"otherPrimeInfos\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tif(asn1.verified === false)\r\n\t\t\tthrow new Error(\"Object's schema was not verified against input data for RSAPrivateKey\");\r\n\t\t//endregion\r\n\r\n\t\t//region Get internal properties from parsed schema\r\n\t\tthis.version = asn1.result.version.valueBlock.valueDec;\r\n\t\tthis.modulus = asn1.result.modulus.convertFromDER(256);\r\n\t\tthis.publicExponent = asn1.result.publicExponent;\r\n\t\tthis.privateExponent = asn1.result.privateExponent.convertFromDER(256);\r\n\t\tthis.prime1 = asn1.result.prime1.convertFromDER(128);\r\n\t\tthis.prime2 = asn1.result.prime2.convertFromDER(128);\r\n\t\tthis.exponent1 = asn1.result.exponent1.convertFromDER(128);\r\n\t\tthis.exponent2 = asn1.result.exponent2.convertFromDER(128);\r\n\t\tthis.coefficient = asn1.result.coefficient.convertFromDER(128);\r\n\r\n\t\tif(\"otherPrimeInfos\" in asn1.result)\r\n\t\t\tthis.otherPrimeInfos = Array.from(asn1.result.otherPrimeInfos, element => new OtherPrimeInfo({ schema: element }));\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert current object to asn1js object and set correct values\r\n\t * @returns {Object} asn1js object\r\n\t */\r\n\ttoSchema()\r\n\t{\r\n\t\t//region Create array for output sequence\r\n\t\tconst outputArray = [];\r\n\t\t\r\n\t\toutputArray.push(new asn1js.Integer({ value: this.version }));\r\n\t\toutputArray.push(this.modulus.convertToDER());\r\n\t\toutputArray.push(this.publicExponent);\r\n\t\toutputArray.push(this.privateExponent.convertToDER());\r\n\t\toutputArray.push(this.prime1.convertToDER());\r\n\t\toutputArray.push(this.prime2.convertToDER());\r\n\t\toutputArray.push(this.exponent1.convertToDER());\r\n\t\toutputArray.push(this.exponent2.convertToDER());\r\n\t\toutputArray.push(this.coefficient.convertToDER());\r\n\t\t\r\n\t\tif(\"otherPrimeInfos\" in this)\r\n\t\t{\r\n\t\t\toutputArray.push(new asn1js.Sequence({\r\n\t\t\t\tvalue: Array.from(this.otherPrimeInfos, element => element.toSchema())\r\n\t\t\t}));\r\n\t\t}\r\n\t\t//endregion\r\n\t\t\r\n\t\t//region Construct and return new ASN.1 schema for this object\r\n\t\treturn (new asn1js.Sequence({\r\n\t\t\tvalue: outputArray\r\n\t\t}));\r\n\t\t//endregion\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convertion for the class to JSON object\r\n\t * @returns {Object}\r\n\t */\r\n\ttoJSON()\r\n\t{\r\n\t\tconst jwk = {\r\n\t\t\tn: toBase64(arrayBufferToString(this.modulus.valueBlock.valueHex), true, true, true),\r\n\t\t\te: toBase64(arrayBufferToString(this.publicExponent.valueBlock.valueHex), true, true, true),\r\n\t\t\td: toBase64(arrayBufferToString(this.privateExponent.valueBlock.valueHex), true, true, true),\r\n\t\t\tp: toBase64(arrayBufferToString(this.prime1.valueBlock.valueHex), true, true, true),\r\n\t\t\tq: toBase64(arrayBufferToString(this.prime2.valueBlock.valueHex), true, true, true),\r\n\t\t\tdp: toBase64(arrayBufferToString(this.exponent1.valueBlock.valueHex), true, true, true),\r\n\t\t\tdq: toBase64(arrayBufferToString(this.exponent2.valueBlock.valueHex), true, true, true),\r\n\t\t\tqi: toBase64(arrayBufferToString(this.coefficient.valueBlock.valueHex), true, true, true)\r\n\t\t};\r\n\r\n\t\tif(\"otherPrimeInfos\" in this)\r\n\t\t\tjwk.oth = Array.from(this.otherPrimeInfos, element => element.toJSON());\r\n\r\n\t\treturn jwk;\r\n\t}\r\n\t//**********************************************************************************\r\n\t/**\r\n\t * Convert JSON value into current object\r\n\t * @param {Object} json\r\n\t */\r\n\tfromJSON(json)\r\n\t{\r\n\t\tif(\"n\" in json)\r\n\t\t\tthis.modulus = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.n, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"n\\\"\");\r\n\r\n\t\tif(\"e\" in json)\r\n\t\t\tthis.publicExponent = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.e, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"e\\\"\");\r\n\r\n\t\tif(\"d\" in json)\r\n\t\t\tthis.privateExponent = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.d, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"d\\\"\");\r\n\r\n\t\tif(\"p\" in json)\r\n\t\t\tthis.prime1 = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.p, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"p\\\"\");\r\n\r\n\t\tif(\"q\" in json)\r\n\t\t\tthis.prime2 = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.q, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"q\\\"\");\r\n\r\n\t\tif(\"dp\" in json)\r\n\t\t\tthis.exponent1 = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.dp, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"dp\\\"\");\r\n\r\n\t\tif(\"dq\" in json)\r\n\t\t\tthis.exponent2 = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.dq, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"dq\\\"\");\r\n\r\n\t\tif(\"qi\" in json)\r\n\t\t\tthis.coefficient = new asn1js.Integer({ valueHex: stringToArrayBuffer(fromBase64(json.qi, true, true)) });\r\n\t\telse\r\n\t\t\tthrow new Error(\"Absent mandatory parameter \\\"qi\\\"\");\r\n\r\n\t\tif(\"oth\" in json)\r\n\t\t\tthis.otherPrimeInfos = Array.from(json.oth, element => new OtherPrimeInfo({ json: element }));\r\n\t}\r\n\t//**********************************************************************************\r\n}\r\n//**************************************************************************************\r\n"],"file":"RSAPrivateKey.js"}